/*
Copyright (c) CLMS. All rights reserved.
Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.*/

{"Actions":[{"Code":"function void Confirm(\r\n\tstring email,\r\n\tstring code\r\n)\r\n{\r\n    var user = Domain.ApplicationUser.Find(s => s.Email == email).First();\r\n    if user == null {\r\n    \tShowMessage(\"User not found\", AppLib.MessageType.Warning);\r\n\t\treturn;\r\n    }\r\n    \r\n    var succe = AppLib.Security.ConfirmEmail(user, code);\r\n    \r\n    DebugLib.Logger.WriteWarnLine(\"Code: \" + code);\r\n    DebugLib.Logger.WriteWarnLine(\"user: \" + user.Email);\r\n    if !succe {\r\n        FormModels.EmailConfirmationFailure.Controller.Render.Execute();\r\n    }\r\n    else {\r\n    \tFormModels.SignInPage.Controller.Load.Execute();\r\n    }\r\n\r\n    \r\n}","Name":"Confirm","Permissions":[],"AllowAnonymous":true,"AllowAllAuthenticatedUsers":true,"AccessLog":false,"IsEntryPoint":true,"CausesValidation":false}],"EventListeners":[],"Resources":[{"Type":"S","Key":"RES_TOOLTIP_Canvas","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_FieldSet","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_FieldSetHeaderControl","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_Icon","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_LABEL_Label","Languages":[{"Name":"en-us","Value":"Confirm"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_Label","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_FieldSetContainer","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_Layout","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_RowControl","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_CellControl","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_CellControl1","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_RowControl1","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_CellControl2","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_CellControl11","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_RowControl11","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_CellControl21","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_CellControl111","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_TOOLTIP_FieldSetFooterControl","Languages":[{"Name":"en-us"},{"Name":"el","Value":""}]},{"Type":"S","Key":"RES_PAGETITLE_Confirm","Languages":[{"Name":"en-us","Value":"Confirm"},{"Name":"el","Value":""}]}],"ViewModel":[],"DataSets":[],"ConditionalFormattings":[],"DataValidations":[],"CalculatedExpressions":[],"Controls":[{"$type":"CLMS.AppDev.DomainModel.Models.BodyControl, CLMS.AppDev.DomainModel","Name":"Canvas","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":0,"RowOperator":0,"Ovewrite":false,"ApplyOnBlur":false,"HiddenInMobileView":false,"Controls":[{"$type":"CLMS.AppDev.DomainModel.Models.FieldSetControl, CLMS.AppDev.DomainModel","Header":{"Name":"FieldSetHeaderControl","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[{"$type":"CLMS.AppDev.DomainModel.Models.IconControl, CLMS.AppDev.DomainModel","Icon":"ok","InCircle":true,"Name":"Icon","CssStyle":"margin-right: 10px","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":2,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]},{"$type":"CLMS.AppDev.DomainModel.Models.LabelControl, CLMS.AppDev.DomainModel","Value":"Confirm","RenderAsHtml":false,"Name":"Label","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":4,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]}]},"Container":{"Name":"FieldSetContainer","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[{"$type":"CLMS.AppDev.DomainModel.Models.TableControl, CLMS.AppDev.DomainModel","IsResponsive":true,"IsGrid":false,"IsDataSourceGrid":false,"ResponsiveThreshold":800,"PageSize":10,"PagerPosition":1,"IncludePaging":true,"AddRowPermmited":true,"DeleteRowPermmited":false,"DeleteMultiRowPermmited":false,"ShowWarningPermmited":false,"ShowMultiWarningPermmited":false,"IncludeAlternateRowsStyle":false,"IncludeNumbering":false,"FilteringType":0,"HeadRows":[],"BodyRows":[{"Cells":[{"ColSpan":6,"RowSpan":1,"Name":"CellControl","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]},{"ColSpan":6,"RowSpan":1,"Name":"CellControl1","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]}],"Name":"RowControl","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false},{"Cells":[{"ColSpan":6,"RowSpan":1,"Name":"CellControl2","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]},{"ColSpan":6,"RowSpan":1,"Name":"CellControl11","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]}],"Name":"RowControl1","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false},{"Cells":[{"ColSpan":6,"RowSpan":1,"Name":"CellControl21","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]},{"ColSpan":6,"RowSpan":1,"Name":"CellControl111","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]}],"Name":"RowControl11","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false}],"FooterRows":[],"TableCols":[],"DataSetInputs":[],"Name":"Layout","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false}]},"Footer":{"Name":"FieldSetFooterControl","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false,"Controls":[]},"HasHeader":true,"HasFooter":true,"Collapsible":true,"IsCollapsed":false,"Name":"FieldSet","CssStyle":"","CssClass":"","DoesNotMakeFormDirty":false,"FontSizeRole":0,"ElementSizeRole":0,"ColorRole":0,"FilterOperator":7,"RowOperator":1,"Ovewrite":true,"ApplyOnBlur":true,"HiddenInMobileView":false}]}],"ShowWarningWhenLeavingPage":false,"IsMasterPage":false,"IsPartial":false,"MasterPage":"MasterPage","Imports":[],"MaxViewModelLevel":0,"ModelName":"EmailConfirmation","ModelCreator":"c.platsatoura@clmsuk.com","Version":"0.3.6"}